<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
<title>Insert title here</title>
<style>
	.title {
		margin: 20px;
	}
	h4 {
		float: left;
	}
	hr {
		margin-left: 10px;
		margin-right: 10px;
	}
	.btn-primary {
		float: right;
	}
	
	.title::after {
      content: "";
      display: table;
      clear: both;
    }
    
	.table-bordered {
		text-align: center;
	}
	.table-bordered th {
		background-color: lightgray;
		width: 30%;
	}
</style>
<script>
	$('.approval-btn').click(function(){
		console.log("test");
		console.log($(this).text());
	});
	
	function approvalRequest(btn)
    {
		console.log(btn.val());
		/*$.ajax({
            url:"/vacation/approval",
            type:"post",
            dataType:"json",
            timeout : 5000,
            data:{ 
				"regId": $("#vacation.regId").val(),
				"state": $("#email").val()
			},
            success: function(data){ 
                console.log(data.resultMessage);
            },
            error : function(xhr, ajaxSettings, thrownError) {
		       alert(thrownError);
		   }
        });*/
    }
</script>
</head>
<body>
<div class="title">
	<h4>휴가신청서</h4>
	<button th:text="${vacation.state}" type="button" class="btn btn-primary" disabled></button>
</div>
<hr>
<div class="container-fluid">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3" th:text="부서"/>
      <div class="col-sm-3" th:text="${deptName}"/>
    </div>
    <br>
    
    <div class="row">
      <div class="col-sm-3" th:text="|직위 / 직책|"/>
      <div class="col-sm-3" th:text="${employee.position}"/>
    </div>
    <br>

    <div class="row">
      <div class="col-sm-3" th:text="신청자"/>
      <div class="col-sm-3" th:text="${employee.name}"/>
    </div>
    <br>
    
    <div class="row">
      <div class="col-sm-3" th:text="신청일"/>
      <div class="col-sm-3" th:text="${vacation.regDate}"/>
    </div>
    <br>
  </div>
</div>
<hr>
<div class="container">
  <table class="table table-bordered">
    <tbody>
      <tr>
        <th th:text="|휴가 유형|"/>
        <td th:text="${vacation.typeId}"/>
      </tr>
      <tr>
        <th th:text="|휴가 기간|"/>
        <td th:text="|${vacation.startDate} ~ ${vacation.endDate}|"/>
      </tr>
      <tr>
        <th th:text="|휴가 일수|"/>
        <td th:text="${vacation.endDate}"/>
      </tr>
      <tr>
        <th th:text="|사유|"/>
        <td th:text="${vacation.content}"/>
      </tr>
      <tr>
        <th th:text="|첨부파일|"/>
        <td th:text="${vacation.endDate}"/>
      </tr>
    </tbody>
  </table>
</div>
<div th:if="${vacation.state == '결재대기'}">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#approval" th:text="승인"/>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#cancel" th:text="반려"/>
</div>
<!-- The Modal -->
  <div class="modal fade" id="approval">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">휴가 결재</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          해당 요청을 승인하시겠습니까?
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">취소</button>
          <button type="button" class="btn btn-primary approval-btn" th:text="승인"/>
        </div>
        
      </div>
    </div>
  </div>
  
 <!-- The Modal -->
  <div class="modal fade" id="cancel">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">휴가 결재</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <p>해당 요청을 반려하시겠습니까?</p>
          <div class="form-group">
		     <label for="comment" style="font-size: small;">반려 사유:</label>
		     <textarea class="form-control" rows="5" id="denied_comment" name="text"></textarea>
		  </div>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">취소</button>
          <button type="button" class="btn btn-primary approval-btn" th:text="반려"/>
        </div>
        
      </div>
    </div>
  </div>
</body>
</html>